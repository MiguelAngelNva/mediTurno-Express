{"ast":null,"code":"import { fetchWithAuth } from '../../auth/authService';\nconst API_URL = 'http://localhost:4000/citas';\n\n// export async function obtenerCitas() {\n//   const res = await fetchWithAuth(API_URL);\n//   const data = await res.json();\n//     console.log('‚úÖ Datos recibidos de /citas:', data);\n//   return res.json();\n// }\n\nexport async function obtenerCitas() {\n  try {\n    const res = await fetchWithAuth(API_URL);\n    const data = await res.json();\n    /*    console.log('‚úÖ Datos recibidos de /citas:', data);*/\n\n    return Array.isArray(data) ? data : [];\n  } catch (error) {\n    console.error('‚ùå Error en obtenerCitas:', error);\n    return [];\n  }\n}\n\n// export async function crearCita(cita) {\n//   const res = await fetchWithAuth(API_URL, {\n//     method: 'POST',\n//     body: JSON.stringify(cita),\n//   });\n//   return res.json();\n// }\n\nexport async function crearCita(cita) {\n  const res = await fetchWithAuth(API_URL, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json' // üëà Esto es lo que debe llegar al fetch real\n    },\n    body: JSON.stringify(cita)\n  });\n  return res.json();\n}\nexport async function actualizarCita(id, cita) {\n  const res = await fetchWithAuth(`${API_URL}/${id}`, {\n    method: 'PUT',\n    body: JSON.stringify(cita)\n  });\n  return res.json();\n}\nexport async function eliminarCita(id) {\n  const res = await fetchWithAuth(`${API_URL}/${id}`, {\n    method: 'DELETE'\n  });\n  if (res.status === 204) return {};\n  return res.json();\n}","map":{"version":3,"names":["fetchWithAuth","API_URL","obtenerCitas","res","data","json","Array","isArray","error","console","crearCita","cita","method","headers","body","JSON","stringify","actualizarCita","id","eliminarCita","status"],"sources":["C:/Users/juanr/Documents/Firebase-Mediturno/mediTurno-Express/Frontend/src/modules/citas/CitasService.js"],"sourcesContent":["import { fetchWithAuth } from '../../auth/authService';\r\n\r\nconst API_URL = 'http://localhost:4000/citas';\r\n\r\n// export async function obtenerCitas() {\r\n//   const res = await fetchWithAuth(API_URL);\r\n//   const data = await res.json();\r\n//     console.log('‚úÖ Datos recibidos de /citas:', data);\r\n//   return res.json();\r\n// }\r\n\r\nexport async function obtenerCitas() {\r\n  try {\r\n    const res = await fetchWithAuth(API_URL); \r\n    const data = await res.json();\r\n/*    console.log('‚úÖ Datos recibidos de /citas:', data);*/\r\n\r\n    return Array.isArray(data) ? data : [];\r\n  } catch (error) {\r\n    console.error('‚ùå Error en obtenerCitas:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// export async function crearCita(cita) {\r\n//   const res = await fetchWithAuth(API_URL, {\r\n//     method: 'POST',\r\n//     body: JSON.stringify(cita),\r\n//   });\r\n//   return res.json();\r\n// }\r\n\r\nexport async function crearCita(cita) {\r\n  const res = await fetchWithAuth(API_URL, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'  // üëà Esto es lo que debe llegar al fetch real\r\n    },\r\n    body: JSON.stringify(cita)\r\n  });\r\n\r\n  return res.json();\r\n}\r\n\r\n\r\nexport async function actualizarCita(id, cita) {\r\n  const res = await fetchWithAuth(`${API_URL}/${id}`, {\r\n    method: 'PUT',\r\n    body: JSON.stringify(cita),\r\n  });\r\n  return res.json();\r\n}\r\n\r\nexport async function eliminarCita(id) {\r\n  const res = await fetchWithAuth(`${API_URL}/${id}`, {\r\n    method: 'DELETE',\r\n  });\r\n\r\n  if (res.status === 204) return {};\r\n  return res.json();\r\n}\r\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,wBAAwB;AAEtD,MAAMC,OAAO,GAAG,6BAA6B;;AAE7C;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,eAAeC,YAAYA,CAAA,EAAG;EACnC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMH,aAAa,CAACC,OAAO,CAAC;IACxC,MAAMG,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAI,CAAC,CAAC;IACjC;;IAEI,OAAOC,KAAK,CAACC,OAAO,CAACH,IAAI,CAAC,GAAGA,IAAI,GAAG,EAAE;EACxC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,OAAO,EAAE;EACX;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,eAAeE,SAASA,CAACC,IAAI,EAAE;EACpC,MAAMR,GAAG,GAAG,MAAMH,aAAa,CAACC,OAAO,EAAE;IACvCW,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB,CAAE;IACtC,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI;EAC3B,CAAC,CAAC;EAEF,OAAOR,GAAG,CAACE,IAAI,CAAC,CAAC;AACnB;AAGA,OAAO,eAAeY,cAAcA,CAACC,EAAE,EAAEP,IAAI,EAAE;EAC7C,MAAMR,GAAG,GAAG,MAAMH,aAAa,CAAC,GAAGC,OAAO,IAAIiB,EAAE,EAAE,EAAE;IAClDN,MAAM,EAAE,KAAK;IACbE,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI;EAC3B,CAAC,CAAC;EACF,OAAOR,GAAG,CAACE,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAec,YAAYA,CAACD,EAAE,EAAE;EACrC,MAAMf,GAAG,GAAG,MAAMH,aAAa,CAAC,GAAGC,OAAO,IAAIiB,EAAE,EAAE,EAAE;IAClDN,MAAM,EAAE;EACV,CAAC,CAAC;EAEF,IAAIT,GAAG,CAACiB,MAAM,KAAK,GAAG,EAAE,OAAO,CAAC,CAAC;EACjC,OAAOjB,GAAG,CAACE,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}