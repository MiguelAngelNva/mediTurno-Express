<!DOCTYPE html>
<html>
<head>
    <title>Editar Médico</title>
</head>
<body>
    <h1>Editar Médico</h1>
    <form action="/medicos/<%= medico.med_id %>/actualizar" method="POST">
        <input name="med_primer_nombre" value="<%= medico.med_primer_nombre %>" required><br>
        <input name="med_segundo_nombre" value="<%= medico.med_segundo_nombre %>"><br>
        <input name="med_primer_apellido" value="<%= medico.med_primer_apellido %>" required><br>
        <input name="med_segundo_apellido" value="<%= medico.med_segundo_apellido %>"><br>
        <input name="med_telefono" value="<%= medico.med_telefono %>"><br>
        <input name="med_correo" value="<%= medico.med_correo %>"><br>
        <input name="med_licencia" value="<%= medico.med_licencia %>"><br>

        <label>Documento:</label>
        <select name="doc_id" required>
            <% documentos.forEach(doc => { %>
                <option value="<%= doc.doc_id %>" <%= doc.doc_id === medico.doc_id ? 'selected' : '' %>>
                    <%= doc.doc_tipo_documento %> - <%= doc.doc_numero_documento %>
                </option>
            <% }) %>
        </select><br>

        <label>Estado:</label>
        <select name="est_id" required>
            <% estados.forEach(est => { %>
                <option value="<%= est.est_id %>" <%= est.est_id === medico.est_id ? 'selected' : '' %>>
                    <%= est.est_nombre %>
                </option>
            <% }) %>
        </select><br>

        <h3>Especialidades</h3>
        <% especialidades.forEach(esp => { %>
            <label>
                <input type="checkbox" name="esp_ids" value="<%= esp.esp_id %>"
                    <%= medico.especialidades.some(e => e.esp_id === esp.esp_id) ? 'checked' : '' %>>
                <%= esp.esp_nombre %>
            </label><br>
        <% }) %>

        <br>
        <button type="submit">Guardar Cambios</button>
        <a href="/medicos/vista">Cancelar</a>
    </form>
</body>
</html>
